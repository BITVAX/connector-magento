<?xml version="1.0" encoding="utf-8"?>
<odoo>

	<record id="view_magento_product_template_form" model="ir.ui.view">
		<field name="name">magento.product.template.form</field>
		<field name="model">magento.product.template</field>
		<field name="inherit_id" ref="connector_magento.view_magento_product_template_form"/>
		<field name="arch" type="xml">
			<button name="run_sync_from_magento" position="after">
				<button name="sync_to_magento" type="object" string="Force Sync Odoo -> Magento" />
				<button type="object" name="run_sync_to_magento" string="Instead Force Sync Odoo -> Magento" groups="base.group_no_one"/>
				<button type="object" name="run_light_sync_to_magento" string="Light Sync Odoo -> Magento" groups="base.group_no_one"/>
			</button>
			<group name="general" position="inside">
				<field name="special_price_active"/>
			</group>
		</field>
	</record>

	<record id="product_template_form_view" model="ir.ui.view">
		<field name="name">product.template.form</field>
		<field name="model">product.template</field>
		<field name="inherit_id" ref="product.product_template_form_view" />
		<field name="arch" type="xml">
			<xpath expr="//header" position="inside">
				<button type="object" name="button_resync" string="Resync to magento" attrs="{'invisible': [('magento_template_bind_ids', '=', False)]}"></button>
			</xpath>
			<div name="options" position="inside">
				<div>
					<field name="export_base_image"/>
					<label for="export_base_image"/>
				</div>
			</div>
		</field>
	</record>


	<record id="action_server_resync_product_template_to_magento" model="ir.actions.server">
		<field name="name">Queue resync to Magento</field>
		<field name="condition">True</field>
		<field name="type">ir.actions.server</field>
		<field name="model_id" ref="model_magento_product_template" />
		<field name="binding_model_id" ref="model_magento_product_template"/>
		<field name="state">code</field>
		<field name="code">records.sync_to_magento()</field>
	</record>

	<record id="action_server_resync_light_product_template_to_magento" model="ir.actions.server">
		<field name="name">Queue light resync to Magento</field>
		<field name="condition">True</field>
		<field name="type">ir.actions.server</field>
		<field name="model_id" ref="model_magento_product_template" />
		<field name="binding_model_id" ref="model_magento_product_template"/>
		<field name="state">code</field>
		<field name="code">records.light_sync_to_magento()</field>
	</record>

</odoo>